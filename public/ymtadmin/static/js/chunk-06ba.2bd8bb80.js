(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-06ba"],{H6nP:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return o});var a=n("bS4n"),i=n.n(a),l=n("t3Un");function r(t){return Object(l.a)({url:"/xcx/ymt/addEatType",method:"post",data:i()({},t),transformRequest:[function(t){var e="";for(var n in t)e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n])+"&";return e}]})}function s(t){return Object(l.a)({url:"/xcx/ymt/getEatTypeList",method:"get",params:t})}function o(t){return Object(l.a)({url:"/xcx/ymt/deteleEatType",method:"get",params:t})}},XxCl:function(t,e,n){"use strict";var a=n("bTA9");n.n(a).a},bTA9:function(t,e,n){},qQyg:function(t,e,n){"use strict";n.r(e);var a=n("H6nP"),i={name:"Eattype",data:function(){return{imgUrl:"",typeName:"",listLoading:!0,list:[],parentId:"",parentList:[{id:1,text:"饮食"},{id:2,text:"运动"}]}},mounted:function(){this.getEatTypeList()},methods:{handleSuccess:function(t,e){this.imgUrl=t.result},handleRemove:function(){this.imgUrl=""},addEatType:function(){var t=this;this.imgUrl?Object(a.a)({parentId:this.parentId,imgUrl:this.imgUrl,typeName:this.typeName}).then(function(e){t.typeName="",t.imgUrl="",t.getEatTypeList()}):this.$message({message:"请上传图片",type:"error",center:!0})},getEatTypeList:function(){var t=this;Object(a.c)().then(function(e){t.listLoading=!1,t.list=e.result})},detele:function(t){var e=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.b)({id:t}).then(function(n){e.list=e.list.filter(function(e){return e._id!==t})})})}}},l=(n("XxCl"),n("ZrdR")),r=Object(l.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("table",[n("tr",[n("td",[n("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:t.parentId,callback:function(e){t.parentId=e},expression:"parentId"}},t._l(t.parentList,function(t){return n("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})}))],1),t._v(" "),n("td",[n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入分类名"},model:{value:t.typeName,callback:function(e){t.typeName=e},expression:"typeName"}})],1),t._v(" "),n("td",[n("el-upload",{staticClass:"editor-slide-upload",attrs:{"on-success":t.handleSuccess,"on-remove":t.handleRemove,action:"http://wx.yinchunyu.com/upload"}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("上传图片")])],1)],1),t._v(" "),n("td",[n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.addEatType}},[t._v("添加分类")])],1)])])]),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.$index)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"所属分类",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(1===parseInt(e.row.parentId)?"饮食":"运动")+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"小图",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:t.row.imgUrl}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"分类名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.typeName)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"created_at",label:"编辑",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(n){t.detele(e.row._id)}}},[t._v("删除")])]}}])})],1)],1)},[],!1,null,"74bf6e1a",null);r.options.__file="index.vue";e.default=r.exports}}]);